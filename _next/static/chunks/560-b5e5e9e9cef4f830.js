"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{68463:function(e,t,n){n.d(t,{Z:function(){return L}});var a=n(47568),r=n(70603),s=n(70655),i=n(85893),o=n(90482),l=n(56371),c=n(92077),u=n.n(c),d=n(67294),p=n(89583),m=n(55678),f=n(78073),x=n(38880),h=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"EmergencyWithdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardPaid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"uint256","name":"pid","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"uint256","name":"_allocPoint","type":"uint256"},{"internalType":"contract ERC20","name":"_lpToken","type":"address"},{"internalType":"uint16","name":"_depositFee","type":"uint16"},{"internalType":"bool","name":"_withUpdate","type":"bool"},{"internalType":"uint256","name":"_lastRewardBlock","type":"uint256"}],"name":"add","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"}],"name":"emergencyWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"massUpdatePools","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"pendingRewards","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"poolInfo","outputs":[{"internalType":"contract ERC20","name":"lpToken","type":"address"},{"internalType":"uint16","name":"depositFee","type":"uint16"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint256","name":"lastRewardBlock","type":"uint256"},{"internalType":"uint256","name":"accRewardsPerShare","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rewardsPerBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"uint256","name":"_allocPoint","type":"uint256"}],"name":"set","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newRewards","type":"uint256"}],"name":"setRewardsPerBlock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startBlock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAllocPoint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"}],"name":"userInfo","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"rewardDebt","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),y=n(26042),b=n(69396),w=n(1534);function v(e){var t=(0,f.mA)().address,n=function(e,t){return[{addressOrName:e.token.address,contractInterface:new l.Interface(w.em),functionName:"balanceOf",args:[e.distributor]},{addressOrName:e.distributor,contractInterface:new l.Interface(h.Mt),functionName:"poolInfo",args:[e.poolId]},{addressOrName:e.distributor,contractInterface:new l.Interface(h.Mt),functionName:"userInfo",args:[e.poolId,t||x.L1]},{addressOrName:e.distributor,contractInterface:new l.Interface(h.Mt),functionName:"balanceOf",args:[e.poolId,t||x.L1]},{addressOrName:e.distributor,contractInterface:new l.Interface(h.Mt),functionName:"pendingRewards",args:[e.poolId,t||x.L1]},{addressOrName:e.token.address,contractInterface:new l.Interface(w.em),functionName:"balanceOf",args:[t||x.L1]}]}(e,t),a=(0,f.Dm)({allowFailure:!0,contracts:n}),s=a.data,i=a.refetch,c=(0,r.Z)(d.useState(e),2),u=c[0],p=c[1];return d.useEffect((function(){p(function(){return s&&s.filter(Boolean).length===n.length?(0,b.Z)((0,y.Z)({},e),{refetch:i,totalDeposited:new o.Z(s[0].toString()).div(Math.pow(10,e.token.decimals)).toNumber(),poolInfo:(a=s[1],{token:a[0],allocPoints:new o.Z(a[1].toString()).toNumber(),lastRewardBlock:new o.Z(a[2].toNumber()).toNumber(),accumulatedRewardsPerShare:new o.Z(a[3].toString())}),userInfo:(t=s[2],{amount:new o.Z(t[0].toString()),rewardDebt:new o.Z(t[1].toString())}),userDeposit:new o.Z(s[3].toString()).div(Math.pow(10,e.token.decimals)).toNumber(),userRewards:new o.Z(s[4].toString()).div(Math.pow(10,e.reward.decimals)).toNumber(),userBalance:new o.Z(s[5].toString()).div(Math.pow(10,e.token.decimals)).toNearest(1e-8,o.Z.ROUND_FLOOR).toNumber()}):(0,b.Z)((0,y.Z)({},e),{refetch:i});var t,a}())}),[s]),d.useEffect((function(){var t=setInterval((function(){u.poolInfo&&p((function(t){var n=(0,y.Z)({},t);if(void 0!==t.userDeposit&&void 0!==t.userRewards&&t.totalDeposited&&void 0!==t.poolInfo){var a=t.userDeposit/t.totalDeposited,r=1e4/86400*e.multiplier/e.totalAllocPoints;n.userRewards=((null===n||void 0===n?void 0:n.userRewards)||0)+a*r*5}return n}))}),5e3);return function(){return clearInterval(t)}}),[u]),{farmData:u}}var j=n(6277);function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function O(e){return k(e)}function C(e,t){return!t||"object"!==((n=t)&&n.constructor===Symbol?"symbol":typeof n)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var n}function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return C(this,n)}}var I=function(e){T(n,e);var t=Z(n);function n(){var e;return N(this,n),(e=t.apply(this,arguments)).state={hasError:!1},e}var a=n.prototype;return a.componentDidCatch=function(e,t){console.error("Uncaught error:",e,t)},a.render=function(){var e=this;return this.state.hasError?(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Oops, there is an error!"}),(0,i.jsx)("button",{type:"button",onClick:function(){return e.setState({hasError:!1})},children:"Try again?"})]}):this.props.children},n.getDerivedStateFromError=function(e){return{hasError:!0}},n}(d.Component),S=I,A=n(19205);var P=JSON.parse('{"Mt":[{"inputs":[],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}');function M(e){var t=e.isOpen,n=e.onClose,c=(0,f.mA)().address,u=(0,f.KQ)({addressOrName:c}),p=u.data,x=u.refetch,h=p?new o.Z(p.value.toString()).div(Math.pow(10,p.decimals)):null,y=(0,r.Z)(d.useState(0),2),b=y[0],w=y[1],v=(0,r.Z)(d.useState(!1),2),j=v[0],N=v[1],g=(0,f.PJ)({addressOrName:A.T.wcanto.address,contractInterface:new l.Interface(P.Mt),functionName:"deposit",overrides:{value:new o.Z(b).mul(Math.pow(10,18)).toHex()}}).config,T=(0,f.GG)(g),k=T.data,O=T.writeAsync;(0,f.BX)({hash:null===k||void 0===k?void 0:k.hash,onSuccess:function(){n(!0),x(),m.Am.success("Successfully wrapped ".concat(b," Canto"))}});var C=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:if(!O)return[2];N(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,O()];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),m.Am.error(String(e)),[3,5];case 4:return N(!1),[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"modal ".concat(t?"modal-open":""),children:(0,i.jsxs)("div",{className:"modal-box flex flex-col gap-3",children:[(0,i.jsx)("div",{className:"font-primary text-4xl font-bold text-center",children:"Wrap Canto"}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("input",{placeholder:"Amount...",type:"number",onChange:function(e){return w(Number(e.target.value))},value:b,className:"p-2 rounded w-full"}),(0,i.jsx)("span",{className:"btn",onClick:function(){return h?w(h.toNumber()):{}},children:"MAX"})]}),(0,i.jsxs)("div",{className:"text-right",children:["Your balance:"," ",h?h.toNumber():"???"," "]})]}),(0,i.jsxs)("div",{className:"btn-group flex",children:[(0,i.jsx)("div",{className:"btn btn-secondary w-3/6",onClick:function(){return n(!1)},children:"Cancel"}),(0,i.jsx)("div",{className:"btn btn-primary w-3/6 ".concat(j?"loading":""),onClick:function(){return C()},children:"Confirm"})]})]})})}function _(e){var t=e.farm,n=e.isOpen,c=e.onClose,y=function(e,t,n){var r=(0,f.mA)(),i=(0,f.PJ)({addressOrName:e,contractInterface:new l.Interface(w.em),functionName:"approve",args:[t,new o.Z(2).pow(256).sub(1).toHex()]}).config,c=(0,f.GG)(i),u=c.writeAsync,d=c.data;(0,f.BX)({hash:null===d||void 0===d?void 0:d.hash.toString(),onSuccess:function(){var t;y(),m.Am.success("Approved token ".concat((null===(t=Object.values(x.TV).find((function(t){return t.address===e})))||void 0===t?void 0:t.name)||e))}});var p=(0,f.do)({addressOrName:e,contractInterface:new l.Interface(w.em),functionName:"allowance",args:[n||r.address,t]}),h=p.data,y=p.refetch,b=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:if(!u)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,u()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),m.Am.error(String(e)),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return{approve:b,allowance:h?new o.Z(h.toString()):new o.Z(0),isApproving:"loading"===status}}(t.token.address,t.distributor),b=y.allowance,v=y.approve,j=y.isApproving,N=(0,r.Z)(d.useState(!1),2),g=N[0],T=N[1],k=(0,r.Z)(d.useState(),2),O=k[0],C=k[1],Z=(0,r.Z)(d.useState(!1),2),I=Z[0],S=Z[1],P=(0,f.PJ)({addressOrName:t.distributor,contractInterface:new l.Interface(h.Mt),functionName:"deposit",args:[t.poolId,new o.Z(O||0).mul(Math.pow(10,t.token.decimals||0)).toHex()]}).config,_=(0,f.GG)(P),D=_.writeAsync,R=_.data;(0,f.BX)({hash:null===R||void 0===R?void 0:R.hash,onSuccess:function(){c(!0),m.Am.success("Successfully deposited ".concat(O," ").concat(t.token.name))}});var F=d.useCallback((0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:if(!D)return[2];T(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,D()];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),m.Am.error(String(e)),[3,5];case 4:return T(!1),[7];case 5:return[2]}}))})),[D]),B=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:if(!v)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,v()];case 2:return n.sent(),t.refetch&&t.refetch(),[3,4];case 3:return e=n.sent(),m.Am.error(String(e)),[3,4];case 4:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"modal ".concat(n?"modal-open":""),children:(0,i.jsxs)("div",{className:"modal-box flex flex-col gap-3",children:[(0,i.jsxs)("div",{className:"font-primary text-4xl font-bold text-center",children:["Deposit ",t.token.name]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("input",{placeholder:"Amount...",type:"number",onChange:function(e){return C(Number(e.target.value))},value:O,className:"p-2 rounded w-full",disabled:!b||b.eq(0)}),(0,i.jsx)("span",{className:"btn",onClick:function(){return C(t.userBalance)},children:"MAX"})]}),(0,i.jsxs)("div",{className:"text-right",children:["Your balance:"," ",(0,i.jsxs)("span",{className:"font-bold",children:[void 0!==t.userBalance?u()(t.userBalance.toFixed(18)).format("aaa.aa"):"??"," ",t.token.symbol]})]})]}),t.token===A.T.wcanto?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"btn mx-auto",onClick:function(){return S(!0)},children:"Wrap Canto"}),(0,i.jsx)(M,{isOpen:I,onClose:function(e){S(!1),e&&t.refetch&&t.refetch()}})]}):null,void 0!==t.lpTokens?(0,i.jsx)("a",{href:"https://velocimeter.xyz/liquidity/".concat(t.token.address),target:"__blank",className:"mx-auto",children:(0,i.jsxs)("div",{className:"btn flex flex-row gap-2",children:[(0,i.jsx)("div",{className:"my-auto",children:"Add liquidity"}),(0,i.jsx)(p.CkN,{className:"h-4 w-4 my-auto"})]})}):null,(0,i.jsxs)("div",{className:"btn-group flex",children:[(0,i.jsx)("div",{className:"btn btn-secondary w-3/6",onClick:function(){return c()},children:"Cancel"}),b&&b.gt(0)?(0,i.jsx)("div",{className:"btn btn-primary w-3/6 ".concat(g?"loading":""),onClick:function(){return F()},children:"Confirm"}):(0,i.jsx)("div",{className:"btn btn-accent w-3/6 ".concat(j?"btn-loading":""),onClick:B,children:"Approve"})]})]})})}var D=n(5434);function R(e){var t=e.farmData,n=e.onClose,a=e.isOpen,r=(0,j.C)().prices,s=t.lpTokens?(r[t.lpTokens[0].address]+r[t.lpTokens[1].address])/2:r[t.token.address],l=r[t.reward.address]||0,c=x.lZ.div(Math.pow(10,18)).mul(5256e3).mul(t.multiplier).div(t.totalAllocPoints),d=new o.Z(l).mul(c),p=new o.Z(s||0).times(t.totalDeposited||0);d.div(p).times(100);return(0,i.jsx)("div",{className:"modal ".concat(a?"modal-open":""),children:(0,i.jsxs)("div",{className:"modal-box flex flex-col gap-3 justify-start",children:[(0,i.jsxs)("div",{className:"bg-base-200 rounded-xl",children:[(0,i.jsx)("div",{className:"text-xl bg-base-300 rounded-t-xl p-2",children:"APR"}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 justify-center text-xs my-auto p-1",children:[(0,i.jsx)("div",{className:"tooltip","data-tip":u()(l).format("aaa.aa"),children:(0,i.jsx)("div",{className:"btn btn-ghost ",children:"Reward price per token"})}),(0,i.jsx)("div",{className:"my-auto",children:"x"}),(0,i.jsx)("div",{className:"tooltip","data-tip":u()(x.lZ.div(Math.pow(10,18)).mul(5256e3).toNumber()).format("aaa.aaa"),children:(0,i.jsx)("div",{className:"btn btn-ghost ",children:"Rewards per year"})}),(0,i.jsx)("div",{className:"my-auto",children:"/"}),(0,i.jsx)("div",{className:"tooltip","data-tip":u()(new o.Z(s||0).div(t.totalAllocPoints).toNumber()).format("aaa.aaa"),children:(0,i.jsx)("div",{className:"btn btn-ghost",children:"Deposit price per token"})}),(0,i.jsx)("div",{className:"my-auto",children:"/"}),(0,i.jsx)("div",{className:"tooltip","data-tip":u()(new o.Z(t.totalDeposited||1).toNumber()).format("aaa.aa"),children:(0,i.jsx)("div",{className:"btn btn-ghost",children:"Total deposited token"})})]})]}),(0,i.jsxs)("div",{className:"bg-base-200 rounded-xl",children:[(0,i.jsx)("div",{className:"text-xl bg-base-300 rounded-t-xl p-2",children:"APR"}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1 text-lg justify-center my-auto p-2",children:(0,i.jsxs)("div",{children:["You own"," ",t.userDeposit&&t.totalDeposited?u()(t.userDeposit/t.totalDeposited).format("aa.aa%"):"???"," ","of deposited tokens"]})})]}),(0,i.jsxs)("div",{className:"btn flex",onClick:n,children:[(0,i.jsx)("div",{children:"CLOSE"}),(0,i.jsx)(D.FU5,{className:"w-8 h-8"})]})]})})}var F=n(24319);function B(e){var t=e.farm,n=e.deposited,c=e.isOpen,u=e.onClose,p=(0,F.Z)(t.token.address),x=p.decimals,y=p.refetch,b=(0,r.Z)(d.useState(!1),2),w=b[0],v=b[1],j=(0,r.Z)(d.useState(),2),N=j[0],g=j[1],T=(0,f.PJ)({addressOrName:t.distributor,contractInterface:new l.Interface(h.Mt),functionName:"withdraw",args:[t.poolId,new o.Z(N||0).mul(Math.pow(10,x||0)).toHex()]}),k=T.config,O=T.error,C=(0,f.GG)(k),Z=C.writeAsync,I=C.data;(0,f.BX)({hash:null===I||void 0===I?void 0:I.hash,onSuccess:function(){y(),u(!0),m.Am.success("Successfully withdrew ".concat(N," ").concat(t.token.name))}});var S=(0,f.PJ)({addressOrName:t.distributor,contractInterface:new l.Interface(h.Mt),functionName:"emergencyWithdraw",args:[t.poolId]}).config,A=(0,f.GG)(S),P=A.writeAsync,M=A.data;(0,f.BX)({hash:null===M||void 0===M?void 0:M.hash,onSuccess:function(){y(),u(!0),m.Am.success("Successfully emergency withdrew ".concat(N," ").concat(t.token.name))}});var _=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:if(!Z)return[2];v(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,Z()];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),m.Am.error(String(e)),[3,5];case 4:return v(!1),[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"modal ".concat(c?"modal-open":""),children:(0,i.jsxs)("div",{className:"modal-box flex flex-col gap-3",children:[(0,i.jsxs)("div",{className:"font-primary text-4xl font-bold text-center",children:["Withdraw ",t.token.name]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"input-group",children:[(0,i.jsx)("input",{placeholder:"Amount...",type:"number",onChange:function(e){return g(Number(e.target.value))},value:N,className:"p-2 rounded w-full"}),(0,i.jsx)("span",{className:"btn",onClick:function(){return g(n)},children:"MAX"})]}),(0,i.jsxs)("div",{className:"text-right",children:["Your balance:"," ",(0,i.jsxs)("span",{className:"font-bold",children:[n," ",t.token.symbol]})]})]}),(0,i.jsxs)("div",{className:"btn-group flex",children:[(0,i.jsx)("div",{className:"btn btn-secondary w-3/6",onClick:function(){return u()},children:"Cancel"}),(0,i.jsx)("div",{className:"btn btn-primary w-3/6 ".concat(w?"loading":""),onClick:function(){return _()},children:"Confirm"})]}),O?(0,i.jsxs)("div",{className:"mx-auto text-center",children:[(0,i.jsx)("div",{children:"Something went wrong..."}),(0,i.jsx)("div",{className:"btn btn-error",onClick:function(){return P&&P()},children:"withdraw without rewards"})]}):null]})})}function L(e){var t=e.farm,n=(0,j.C)().prices,c=v(t).farmData,y=(0,f.PJ)({addressOrName:t.distributor,contractInterface:new l.Interface(h.Mt),functionName:"withdraw",args:[t.poolId,0]}).config,b=(0,f.GG)(y),w=b.writeAsync,N=b.data;(0,f.BX)({hash:null===N||void 0===N?void 0:N.hash,onSuccess:function(){m.Am.success("Successfully collected ".concat(t.reward.name))}});var g=(0,r.Z)(d.useState(!1),2),T=g[0],k=g[1],O=(0,r.Z)(d.useState(!1),2),C=O[0],Z=O[1],I=(0,r.Z)(d.useState(!1),2),A=I[0],P=I[1],M=(0,r.Z)(d.useState(!1),2),D=M[0],F=M[1],L=function(){var e=(0,a.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:if(!w)return[2];k(!0),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,w()];case 2:return t.sent(),[3,5];case 3:return e=t.sent(),m.Am.error(String(e)),[3,5];case 4:return k(!1),[7];case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),E=c.lpTokens?(n[c.lpTokens[0].address]+n[c.lpTokens[1].address])/2:n[t.token.address],W=n[t.reward.address]||0,G=x.lZ.div(Math.pow(10,18)).mul(5256e3).mul(t.multiplier).div(t.totalAllocPoints),X=new o.Z(W).mul(G),z=new o.Z(E||0).times(c.totalDeposited||0),J=X.div(z).times(100);return(0,i.jsx)(S,{children:(0,i.jsxs)("div",{className:"bg-base-200 p-2 rounded-xl shadow-xl w-fit flex flex-col gap-3",children:[C?(0,i.jsx)(_,{farm:c,isOpen:C,onClose:function(e){Z(!1),e&&c.refetch&&c.refetch()}}):null,A?(0,i.jsx)(B,{farm:c,deposited:c.userDeposit,isOpen:A,onClose:function(e){P(!1),e&&c.refetch&&c.refetch()}}):null,(0,i.jsxs)("div",{className:"text-2xl font-bold text-center m-auto flex flex-col w-full",children:[(0,i.jsx)("div",{className:"absolute",onClick:function(){return F(!0)},children:(0,i.jsx)(p.MXt,{className:"left-0"})}),(0,i.jsx)(R,{farmData:c,isOpen:D,onClose:function(){return F(!1)}}),t.lpTokens?(0,i.jsxs)("div",{className:"flex flex-row gap-2 mx-auto p-2",children:[(0,i.jsx)("img",{className:"w-12",src:t.lpTokens[0].logo.src}),(0,i.jsx)("img",{className:"w-12",src:t.lpTokens[1].logo.src})]}):(0,i.jsx)("div",{className:"flex flex-row mx-auto p-2",children:(0,i.jsx)("img",{className:"w-12",src:t.token.logo.src})}),(0,i.jsx)("div",{className:"my-auto",children:t.token.name}),t.depositFee?(0,i.jsxs)("div",{className:"text-xs my-auto",children:[t.depositFee,"% deposit fee"]}):null,(0,i.jsx)("a",{className:"mx-auto",target:"_blank",href:"".concat(x.wd).concat(t.token.address),children:(0,i.jsxs)("div",{className:"text-center text-xs underline flex gap-2 mx-auto",children:[(0,i.jsx)("div",{className:"my-auto",children:"See on explorer"}),(0,i.jsx)(p.CkN,{className:"h-4 w-4 my-auto"})]})})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 bg-base-300 p-2 rounded",children:[(0,i.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,i.jsx)("div",{className:"flex flex-row justify-center gap-1",children:(0,i.jsx)("div",{children:"APR"})}),(0,i.jsx)("div",{className:"font-bold",children:u()(J.toNumber()).format("aa.aa%")})]}),(0,i.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,i.jsx)("div",{className:"",children:"Total deposited"}),(0,i.jsxs)("div",{className:"font-bold flex flex-row gap-1",children:[c.totalDeposited?u()(c.totalDeposited).format("aaa.aa"):"???",t.lpTokens?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.lpTokens[0].logo.src}),(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.lpTokens[1].logo.src})]}):(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.token.logo.src})]})]}),(0,i.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,i.jsx)("div",{className:"",children:"User deposit"}),(0,i.jsxs)("div",{className:"font-bold flex flex-row gap-1",children:[c.userDeposit?u()(c.userDeposit).format("aaa.aa"):"???",t.lpTokens?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.lpTokens[0].logo.src}),(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.lpTokens[1].logo.src})]}):(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.token.logo.src})]})]}),(0,i.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,i.jsx)("div",{className:"",children:"Pending"}),(0,i.jsxs)("div",{className:"font-bold flex flex-row gap-1",children:[(0,i.jsx)("div",{children:c.userRewards?u()(c.userRewards).format("aaa.aa"):"??"}),(0,i.jsx)("img",{className:"w-4 h-4 my-auto",src:t.reward.logo.src})]})]})]}),(0,i.jsx)("div",{className:"flex flex-col gap-1",children:(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("div",{className:"btn btn-accent w-2/6 ".concat(T?"loading":""),onClick:L,children:"Collect"}),(0,i.jsx)("div",{className:"btn btn-secondary w-2/6",onClick:function(){return P(!0)},children:"Withdraw"}),(0,i.jsx)("div",{className:"btn btn-primary w-2/6",onClick:function(){return Z(!0)},children:"Deposit"})]})})]})})}},8216:function(e,t,n){n.d(t,{Re:function(){return s},eb:function(){return o},zO:function(){return i}});var a=n(86290),r=n(19205),s=[{poolId:0,token:r.T.yangWCantoLp,reward:r.T.yin,lpTokens:[r.T.yang,r.T.wcanto],multiplier:30,distributor:a.tV,totalAllocPoints:49,depositFee:0},{poolId:1,token:r.T.yang,reward:r.T.yin,multiplier:10,distributor:a.tV,totalAllocPoints:49,depositFee:0},{poolId:2,token:r.T.cBonk,reward:r.T.yin,multiplier:5,distributor:a.tV,totalAllocPoints:49,depositFee:5},{poolId:3,token:r.T.eth,reward:r.T.yin,multiplier:3,distributor:a.tV,totalAllocPoints:49,depositFee:5},{poolId:4,token:r.T.wcanto,reward:r.T.yin,multiplier:1,distributor:a.tV,totalAllocPoints:49,depositFee:5}],i=[{poolId:0,token:r.T.yinWCantoLp,reward:r.T.yang,lpTokens:[r.T.yin,r.T.wcanto],multiplier:30,distributor:a.OR,totalAllocPoints:49,depositFee:0},{poolId:1,token:r.T.yin,reward:r.T.yang,multiplier:10,distributor:a.OR,totalAllocPoints:49,depositFee:0},{poolId:2,token:r.T.cantoInu,reward:r.T.yang,multiplier:5,distributor:a.OR,totalAllocPoints:49,depositFee:5},{poolId:3,token:r.T.atom,reward:r.T.yang,multiplier:3,distributor:a.OR,totalAllocPoints:49,depositFee:5},{poolId:4,token:r.T.wcanto,reward:r.T.yang,multiplier:1,distributor:a.OR,totalAllocPoints:49,depositFee:5}],o=[{poolId:0,token:r.T.yinWCantoLp,reward:r.T.zen,multiplier:1,lpTokens:[r.T.yin,r.T.wcanto],distributor:a.jP,totalAllocPoints:12,depositFee:0},{poolId:1,token:r.T.yangWCantoLp,reward:r.T.zen,multiplier:1,lpTokens:[r.T.yang,r.T.wcanto],distributor:a.jP,totalAllocPoints:12,depositFee:0},{poolId:2,token:r.T.zenWCantoLp,reward:r.T.zen,multiplier:10,lpTokens:[r.T.zen,r.T.wcanto],distributor:a.jP,totalAllocPoints:12,depositFee:0}]},24319:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(26042),r=n(69396),s=n(90482),i=n(56371),o=n(78073),l=n(1534);function c(e,t){var n,c,u=(0,o.mA)(),d={addressOrName:e,contractInterface:new i.Interface(l.em)},p=(0,r.Z)((0,a.Z)({},d),{functionName:"decimals",args:[]}),m=(0,r.Z)((0,a.Z)({},d),{functionName:"balanceOf",args:[t||u.address]}),f=(0,o.Dm)({allowFailure:!0,contracts:[p,m]}),x=f.data,h=f.refetch,y=f.status;return x&&2===x.filter(Boolean).length?{balanceOf:new s.Z(null===(n=x[1])||void 0===n?void 0:n.toString()).div(Math.pow(10,Number(null===(c=x[0])||void 0===c?void 0:c.toString()))),decimals:new s.Z(x[0].toString()).toNumber(),status:y,refetch:h}:{refetch:h,status:y}}},6277:function(e,t,n){n.d(t,{C:function(){return s}});var a=n(67294),r=n(10433),s=function(){return a.useContext(r.o)}},89170:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(85893),r=n(9008),s=n.n(r),i=n(67294),o=n(38880),l=function(){return(0,a.jsxs)("footer",{className:"px-4 sm:px-6 py-6 border-t border-neutral",children:[(0,a.jsxs)("div",{className:"text-center text-sm",children:[(0,a.jsx)("span",{className:"font-bold text-lg mr-2",children:o.iC})," \xa9"," ",(new Date).getFullYear()," All Rights Reserved"]}),(0,a.jsxs)("div",{className:"text-center text-sm flex flex-row gap-3 justify-center mt-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)("a",{href:"https://t.me/+aVZyKUWivutmZDg0",children:"Telegram"})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{href:"https://twitter.com/YinYangFi",children:"Twitter"})}),(0,a.jsx)("div",{children:(0,a.jsx)("a",{href:"https://github.com/yinyang-finance",children:"Github"})})]})]})},c=n(70603),u=n(89650),d=n(41664),p=n.n(d),m=n(11163),f=n(8193),x=n(89583),h=function(e){var t=e.className;return(0,a.jsx)(p(),{href:"/",children:(0,a.jsxs)("a",{className:(t||"")+" my-2 flex items-center space-x-1",children:[(0,a.jsx)(x.Wjj,{className:"h-8 w-8 flex-shrink-0 mr-3"}),(0,a.jsx)("span",{className:"font-bold text-3xl font-sans tracking-tight whitespace-nowrap",children:o.iC})]})})},y=[{label:"Farms",link:"/farms"},{label:"Garden",link:"/garden"},{label:"Temple",link:"/temple"},{label:"Docs",href:"https://docs.yinyang.fi"}],b=function(){var e=(0,m.useRouter)(),t=(0,c.Z)(i.useState(!1),2),n=t[0],r=t[1];return(0,a.jsxs)("header",{className:"h-15 border-b border-base-300 relative",children:[(0,a.jsx)("div",{className:"relative container md:block hidden left-1/2 -translate-x-1/2 px-4 md:px-6 py-4 flex justify-between items-center",children:(0,a.jsxs)("div",{className:"flex flex-row justify-between w-5/6 mx-auto",children:[(0,a.jsx)(h,{}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("ul",{className:"ml-16 flex items-center my-auto",children:y.map((function(t,n){return(0,a.jsx)("li",{className:"mr-4 ".concat(e.route===t.link?"text-primary border-b border-info":""),children:t.link?(0,a.jsx)(p(),{href:t.link,children:(0,a.jsx)("a",{children:t.label})}):(0,a.jsx)("a",{href:t.href,target:"_blank",children:t.label})},n)}))})}),(0,a.jsx)(u.NL,{})]})}),(0,a.jsxs)("div",{className:"relative container block md:hidden mx-auto px-4 md:px-6 py-4 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,a.jsx)(h,{className:"mx-auto"}),(0,a.jsx)("div",{className:"btn",onClick:function(){return r(!0)},children:(0,a.jsx)(f.qTj,{})})]}),n?(0,a.jsxs)("div",{className:"fixed top-0 left-0 z-40 h-screen w-screen bg-base-100 transition-transform flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between p-4",children:[(0,a.jsx)(h,{className:"mx-auto"}),(0,a.jsxs)("div",{className:"btn",onClick:function(){return r(!1)},children:[(0,a.jsx)("svg",{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",className:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})}),(0,a.jsx)("span",{className:"sr-only",children:"Close menu"})]})]}),(0,a.jsx)("div",{className:"p-2",children:(0,a.jsx)("ul",{className:"text-xl flex items-center flex flex-col gap-2",children:y.map((function(t,n){return(0,a.jsx)("li",{className:"".concat(e.route===t.link?"text-2xl font-bold text-primary border-b border-accent":""),children:t.link?(0,a.jsx)(p(),{href:t.link,children:(0,a.jsx)("a",{children:t.label})}):(0,a.jsx)("a",{href:t.href,target:"_blank",children:t.label})},n)}))})}),(0,a.jsx)("div",{className:"mx-auto",children:(0,a.jsx)(u.NL,{})})]}):null]})]})},w=function(e){var t=e.children;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s(),{children:[(0,a.jsx)("title",{children:o.iC}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("div",{className:"min-h-screen mx-auto w-full flex flex-col",children:[(0,a.jsx)(b,{}),(0,a.jsx)("main",{className:"flex-grow container mx-auto px-4 sm:px-6 w-full",children:t}),(0,a.jsx)(l,{})]})]})}},69396:function(e,t,n){function a(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}n.d(t,{Z:function(){return a}})}}]);